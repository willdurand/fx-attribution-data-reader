<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Attribution data reader for Firefox installers</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="libs/terminal.min.css" />
    <link rel="stylesheet" href="app.css" />
  </head>
  <body class="terminal">
    <div class="container">
      <header class="header">
        <div class="logo">
          <a href="./">
            Attribution data reader for Firefox installers
          </a>
        </div>
        <hr />
      </header>

      <main>
        <noscript>
          <div class="terminal-alert terminal-alert-error">
            Please enable JavaScript on this page
          </div>
        </noscript>

        <div class="info">
          <p>
            This is a simple tool to show attribution data in Firefox
            installers for Windows and macOS (experimental). It can be used to
            diagnose issues with features such as RTAMO or any problem related
            to attribution data.
          </p>
          <p>
            No "server-side" is involved, everything is performed locally in
            the browser.
          </p>
          <h2>Help:</h2>
          <p>
            Select an installer for Firefox in the "Input:" section below and
            the attribution data should automatically appear under "Output:".
          </p>
          <p>
            Such an installer is usually downloaded from
            <em>www.mozilla.org</em>.  It should be named <code>Firefox
            Installer.exe</code> for Windows and <code>Firefox 110.0.dmg</code>
            for macOS (where "110.0" is the version, which will likely be
            different).
          </p>
          <p>
            Once a Windows installer has been successfully read, the URL is
            updated and can be shared. The attribution data is put in the
            "hash" part of the URL for privacy purposes.
          </p>
          <p>
            Note that an installer may not contain any data, in which case the
            output section will remain blank. In doubt, you can certainly ask
            @willdurand ;-)
          </p>
        </div>

        <div class="input">
          <h2>Input:</h2>
          <div class="form-group">
            <label for="input-file">Select a file:</label>
            <input id="input-file" type="file" accept=".exe,.dmg" />
          </div>

          <p id="input-message"></p>
        </div>

        <div class="output">
          <h2>Output:</h2>
          <pre><code id="output-raw"></code></pre>
          <table id="output-pretty"></table>
        </div>
      </main>

      <footer>
        <p>
          Made by <a href="https://twitter.com/couac">@couac</a> (a.k.a.
          @willdurand) â€“ The source code is available on
          <a href="https://github.com/willdurand/fx-attribution-data-reader">GitHub</a>
          (MIT license).
        </p>
      </footer>
    </div>

    <script src="libs/KaitaiStream.js"></script>
    <script src="libs/MicrosoftPe.js"></script>
    <script src="kaitai/Dmg.js"></script>
    <script src="app.js?v=20230221-1"></script>
  </body>
</html>
